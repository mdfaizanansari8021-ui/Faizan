<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bihar Board Class 7 Maths - Premium Quiz</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lottie Web Component -->
    <script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.8.11/dist/dotlottie-wc.js" type="module"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700;900&family=Noto+Sans+Devanagari:wght@400;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Outfit', 'Noto Sans Devanagari', 'sans-serif'],
                    },
                    animation: {
                        'blob': 'blob 7s infinite',
                        'gradient-x': 'gradient-x 3s ease infinite',
                        'spin-slow': 'spin 8s linear infinite',
                        'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'rainbow-border': 'rainbow-border 2s linear infinite',
                    },
                    keyframes: {
                        blob: {
                            '0%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1)' },
                        },
                        'gradient-x': {
                            '0%, 100%': { 'background-size': '200% 200%', 'background-position': 'left center' },
                            '50%': { 'background-size': '200% 200%', 'background-position': 'right center' },
                        },
                        'rainbow-border': {
                            '0%': { 'background-position': '0% 50%' },
                            '100%': { 'background-position': '100% 50%' }
                        }
                    },
                    colors: {
                        glass: 'rgba(255, 255, 255, 0.1)',
                        glassBorder: 'rgba(255, 255, 255, 0.2)',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #0f172a;
            color: #ffffff;
            -webkit-user-select: none;
            user-select: none;
            overflow-x: hidden;
        }

        /* Moving Gradient Background */
        .mesh-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            background: 
                radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%), 
                radial-gradient(at 50% 0%, hsla(225,39%,30%,1) 0, transparent 50%), 
                radial-gradient(at 100% 0%, hsla(339,49%,30%,1) 0, transparent 50%);
        }
        
        .orb {
            position: fixed;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.6;
            z-index: -1;
            animation: blob 10s infinite alternate;
        }
        .orb-1 { top: -10%; left: -10%; width: 50vw; height: 50vw; background: #7c3aed; animation-delay: 0s; }
        .orb-2 { top: 20%; right: -20%; width: 60vw; height: 60vw; background: #db2777; animation-delay: 2s; }
        .orb-3 { bottom: -10%; left: 20%; width: 50vw; height: 50vw; background: #2563eb; animation-delay: 4s; }

        /* Premium Glass Card */
        .glass-card {
            background: rgba(20, 20, 30, 0.6);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* Rainbow Text */
        .text-rainbow {
            background: linear-gradient(to right, #ef5350, #f48fb1, #7e57c2, #2196f3, #26c6da, #43a047, #eeff41, #f9a825, #ff5722);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            background-size: 200%;
            animation: gradient-x 4s linear infinite;
        }

        /* Rainbow Button */
        .btn-rainbow {
            background: linear-gradient(45deg, #FF0000, #FF7300, #FFFB00, #48FF00, #00FFD5, #002BFF, #7A00FF, #FF00C8, #FF0000);
            background-size: 400%;
            animation: rainbow-border 20s linear infinite;
            color: white;
            transition: 0.3s;
            position: relative;
            z-index: 1;
        }
        .btn-rainbow::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            z-index: -1;
            background: linear-gradient(45deg, #FF0000, #FF7300, #FFFB00, #48FF00, #00FFD5, #002BFF, #7A00FF, #FF00C8, #FF0000);
            background-size: 400%;
            animation: rainbow-border 20s linear infinite;
            filter: blur(10px);
            opacity: 0;
            transition: 0.3s;
            border-radius: inherit;
        }
        .btn-rainbow:hover::before {
            opacity: 0.8;
        }
        .btn-rainbow:hover {
            transform: scale(1.02);
        }

        /* Rainbow Border for Selected Option */
        .option-selected {
            position: relative;
            background: rgba(255, 255, 255, 0.1) !important;
            border-color: transparent !important;
        }
        .option-selected::after {
            content: '';
            position: absolute;
            inset: -2px;
            z-index: -1;
            border-radius: 14px;
            background: linear-gradient(60deg, #f79533, #f37055, #ef4e7b, #a166ab, #5073b8, #1098ad, #07b39b, #6fba82);
            background-size: 300% 300%;
            animation: gradient-x 2s ease infinite;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #555; border-radius: 10px; }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col items-center justify-center relative" oncontextmenu="return false;">

    <!-- ANIMATED BACKGROUND -->
    <div class="mesh-bg"></div>
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>

    <!-- SPLASH SCREEN -->
    <div id="splash-screen" class="fixed inset-0 z-50 flex flex-col items-center justify-center bg-black transition-opacity duration-1000">
        <dotlottie-wc src="https://lottie.host/439a1631-6ff8-41a0-89c3-4fc2ae44f333/yCSzWTE6LT.lottie" style="width: 320px;height: 320px" autoplay loop></dotlottie-wc>
        <div class="mt-8 text-center relative">
            <div class="absolute inset-0 blur-xl bg-purple-500/20 rounded-full"></div>
            <p class="text-gray-400 text-xs mb-2 uppercase tracking-[0.3em] font-bold relative z-10">Experience created by</p>
            <h1 class="text-5xl font-black text-rainbow tracking-tighter relative z-10 drop-shadow-2xl">FAIZAN ALI</h1>
        </div>
    </div>

    <!-- MAIN APP CONTAINER -->
    <div id="app-container" class="w-full max-w-2xl px-5 py-6 hidden opacity-0 flex-col min-h-screen relative z-10">
        
        <!-- HEADER -->
        <header class="w-full flex justify-between items-center mb-8">
            <div class="flex items-center gap-3">
                <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-pink-500 to-violet-500 flex items-center justify-center shadow-lg shadow-purple-500/30">
                    <span class="text-2xl">üìê</span>
                </div>
                <div>
                    <h2 class="text-[10px] font-bold text-pink-400 uppercase tracking-widest">Class 7 ‚Ä¢ Maths</h2>
                    <h1 class="text-2xl font-black text-white leading-none">Bihar Board</h1>
                </div>
            </div>
            <div class="glass-card px-4 py-1.5 rounded-full border border-white/10">
                <span class="text-xs font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400">PREMIUM v3.0</span>
            </div>
        </header>

        <!-- NAME INPUT SECTION -->
        <div id="name-section" class="flex-1 flex flex-col justify-center">
            <div class="glass-card p-8 rounded-[2rem] relative overflow-hidden group">
                <!-- Decorative Shine -->
                <div class="absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full blur-2xl -mr-10 -mt-10 pointer-events-none"></div>
                
                <h2 class="text-3xl font-black mb-3 text-white">Let's Start! üöÄ</h2>
                <p class="text-gray-400 mb-8 font-light">Enter your name to begin the colorful journey.</p>
                
                <div class="space-y-6">
                    <div class="relative group">
                        <input type="text" id="student-name" class="w-full bg-black/40 border border-gray-600 rounded-2xl px-5 py-4 text-white placeholder-gray-500 focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/50 transition-all font-bold text-lg" placeholder="Your Full Name">
                        <div class="absolute inset-0 rounded-2xl bg-gradient-to-r from-pink-500 to-blue-500 opacity-0 group-hover:opacity-10 -z-10 transition-opacity blur-md"></div>
                    </div>
                    <button onclick="startQuiz()" class="w-full btn-rainbow font-bold py-5 rounded-2xl shadow-xl text-xl tracking-wide uppercase">
                        Continue
                    </button>
                </div>
            </div>
        </div>

        <!-- QUIZ SECTION -->
        <div id="quiz-section" class="hidden flex-1 flex flex-col">
            <!-- Progress Bar -->
            <div class="mb-8 bg-black/30 p-2 rounded-full glass-card">
                <div class="flex justify-between text-xs mb-1 px-2 font-bold text-gray-400 uppercase tracking-wider">
                    <span id="progress-text">Q 1/30</span>
                    <span class="text-pink-400">Live Quiz</span>
                </div>
                <div class="h-3 w-full bg-gray-800 rounded-full overflow-hidden">
                    <div id="progress-bar" class="h-full bg-gradient-to-r from-pink-500 via-purple-500 to-cyan-500 w-0 transition-all duration-500 ease-out shadow-[0_0_10px_rgba(236,72,153,0.7)]"></div>
                </div>
            </div>

            <!-- Question Card -->
            <div class="glass-card p-6 md:p-8 rounded-[2rem] mb-6 flex-1 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-white/20 to-transparent"></div>
                
                <!-- Question Text -->
                <div class="mb-8 relative z-10">
                    <h3 id="question-text-en" class="text-2xl font-black text-white mb-3 leading-tight drop-shadow-md"></h3>
                    <h3 id="question-text-hi" class="text-xl font-medium text-gray-300 leading-snug font-serif pl-4 border-l-4 border-purple-500/50"></h3>
                </div>

                <!-- Options -->
                <div id="options-container" class="space-y-4 relative z-10">
                    <!-- Options injected via JS -->
                </div>
            </div>

            <!-- Navigation -->
            <div class="mt-auto">
                <button id="next-btn" onclick="nextQuestion()" class="w-full bg-white/5 border border-white/10 text-gray-500 font-bold py-4 rounded-2xl cursor-not-allowed transition-all backdrop-blur-md" disabled>
                    Pick an Option to Continue
                </button>
            </div>
        </div>

        <!-- LOADING SECTION -->
        <div id="loading-section" class="hidden flex-1 flex-col justify-center items-center text-center">
            <div class="relative w-32 h-32 mb-6">
                <div class="absolute inset-0 rounded-full border-4 border-gray-700"></div>
                <div class="absolute inset-0 rounded-full border-4 border-t-transparent border-r-transparent border-b-transparent border-pink-500 animate-spin"></div>
                <div class="absolute inset-2 rounded-full border-4 border-t-transparent border-r-transparent border-b-transparent border-cyan-500 animate-spin-slow"></div>
                <div class="absolute inset-0 flex items-center justify-center text-4xl">üöÄ</div>
            </div>
            <h2 class="text-3xl font-black text-white mb-2">Calculating Score...</h2>
            <p class="text-gray-400">Generating beautiful report card</p>
        </div>

        <!-- RESULT SECTION -->
        <div id="result-section" class="hidden flex-col pb-10">
            <div class="text-center mb-8 relative">
                <!-- Fireworks Decoration (CSS only representations) -->
                <div class="absolute top-0 left-10 text-2xl animate-bounce">‚ú®</div>
                <div class="absolute top-10 right-10 text-2xl animate-bounce" style="animation-delay: 0.5s">üéâ</div>
                
                <h2 class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-br from-white to-gray-400 mb-2">Quiz Completed!</h2>
                <p class="text-pink-400 font-bold tracking-wide">RESULT SENT SUCCESSFULLY</p>
            </div>

            <!-- Score Card -->
            <div class="glass-card p-8 rounded-[2.5rem] mb-8 relative overflow-hidden border-t border-white/20">
                <div class="absolute -right-10 -top-10 w-40 h-40 bg-gradient-to-br from-pink-500 to-purple-600 rounded-full blur-3xl opacity-30"></div>
                
                <div class="flex flex-col items-center justify-center mb-6">
                    <div class="w-32 h-32 rounded-full border-8 border-gray-800 flex items-center justify-center bg-gray-900 relative">
                        <!-- Conic Gradient for score circle handled in JS or simplified here -->
                        <div class="absolute inset-0 rounded-full border-4 border-transparent border-t-green-500 border-r-green-500 transform -rotate-45"></div>
                        <div class="text-center">
                            <span id="final-percentage" class="block text-3xl font-black text-white">0%</span>
                            <span class="text-[10px] text-gray-400 uppercase">Accuracy</span>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div class="bg-black/30 rounded-2xl p-4 text-center border border-white/5">
                        <p class="text-gray-400 text-xs uppercase font-bold">Total Score</p>
                        <p id="final-score" class="text-2xl font-bold text-cyan-400">0/30</p>
                    </div>
                    <div class="bg-black/30 rounded-2xl p-4 text-center border border-white/5">
                        <p class="text-gray-400 text-xs uppercase font-bold">Status</p>
                        <p id="pass-status" class="text-2xl font-bold text-green-400">Passed</p>
                    </div>
                </div>
                
                <div id="student-badge" class="bg-gradient-to-r from-purple-900/50 to-pink-900/50 rounded-xl p-4 flex items-center gap-4 border border-white/10">
                    <!-- Injected via JS -->
                </div>
            </div>

            <h3 class="text-2xl font-bold mb-4 px-2 text-white flex items-center gap-2">
                <span class="text-yellow-400">üìä</span> Detailed Analysis
            </h3>
            <div id="detailed-results" class="space-y-4">
                <!-- Detailed Cards Injected JS -->
            </div>
        </div>

    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA: 30 Questions ---
        const questions = [
            { en: "What is the value of (-10) + 3?", hi: "(-10) + 3 ‡§ï‡§æ ‡§Æ‡§æ‡§® ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?", options: ["-7", "7", "-13", "13"], correct: 0 },
            { en: "Which property is represented by a + b = b + a?", hi: "a + b = b + a ‡§ï‡§ø‡§∏ ‡§ó‡•Å‡§£ ‡§ï‡•ã ‡§¶‡§∞‡•ç‡§∂‡§æ‡§§‡§æ ‡§π‡•à?", options: ["Associative", "Commutative", "Distributive", "Closure"], correct: 1 },
            { en: "The product of two negative integers is always:", hi: "‡§¶‡•ã ‡§ã‡§£‡§æ‡§§‡•ç‡§Æ‡§ï ‡§™‡•Ç‡§∞‡•ç‡§£‡§æ‡§Ç‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§ó‡•Å‡§£‡§®‡§´‡§≤ ‡§π‡§Æ‡•á‡§∂‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à:", options: ["Negative", "Positive", "Zero", "Undefined"], correct: 1 },
            { en: "Solve: 3x - 5 = 10", hi: "‡§π‡§≤ ‡§ï‡§∞‡•á‡§Ç: 3x - 5 = 10", options: ["3", "5", "15", "10"], correct: 1 },
            { en: "What is 2/5 of 20?", hi: "20 ‡§ï‡§æ 2/5 ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?", options: ["4", "8", "10", "12"], correct: 1 },
            { en: "Express 0.75 as a fraction in lowest terms.", hi: "0.75 ‡§ï‡•ã ‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§™‡§¶‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§≠‡§ø‡§®‡•ç‡§® ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§", options: ["3/4", "1/2", "2/5", "4/5"], correct: 0 },
            { en: "The sum of angles in a triangle is:", hi: "‡§è‡§ï ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú ‡§ï‡•á ‡§ï‡•ã‡§£‡•ã‡§Ç ‡§ï‡§æ ‡§Ø‡•ã‡§ó ‡§π‡•ã‡§§‡§æ ‡§π‡•à:", options: ["90¬∞", "180¬∞", "360¬∞", "270¬∞"], correct: 1 },
            { en: "Complementary angle of 40¬∞ is:", hi: "40¬∞ ‡§ï‡§æ ‡§™‡•Ç‡§∞‡§ï ‡§ï‡•ã‡§£ ‡§π‡•à:", options: ["40¬∞", "50¬∞", "140¬∞", "130¬∞"], correct: 1 },
            { en: "Supplementary angle of 110¬∞ is:", hi: "110¬∞ ‡§ï‡§æ ‡§∏‡§Ç‡§™‡•Ç‡§∞‡§ï ‡§ï‡•ã‡§£ ‡§π‡•à:", options: ["70¬∞", "80¬∞", "90¬∞", "60¬∞"], correct: 0 },
            { en: "Which of the following is an improper fraction?", hi: "‡§®‡§ø‡§Æ‡•ç‡§®‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•å‡§® ‡§∏‡§æ ‡§µ‡§ø‡§∑‡§Æ ‡§≠‡§ø‡§®‡•ç‡§® ‡§π‡•à?", options: ["2/3", "5/7", "7/4", "1/2"], correct: 2 },
            { en: "Reciprocal of 5 is:", hi: "5 ‡§ï‡§æ ‡§µ‡•ç‡§Ø‡•Å‡§§‡•ç‡§ï‡•ç‡§∞‡§Æ (Reciprocal) ‡§π‡•à:", options: ["-5", "1/5", "0", "1"], correct: 1 },
            { en: "Find the mean of 2, 4, 6, 8, 10.", hi: "2, 4, 6, 8, 10 ‡§ï‡§æ ‡§Æ‡§æ‡§ß‡•ç‡§Ø ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡•Ä‡§ú‡§ø‡§è‡•§", options: ["5", "6", "7", "8"], correct: 1 },
            { en: "How many medians can a triangle have?", hi: "‡§è‡§ï ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú ‡§ï‡•Ä ‡§ï‡§ø‡§§‡§®‡•Ä ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§ø‡§ï‡§æ‡§è‡§Å ‡§π‡•ã ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡§Ç?", options: ["1", "2", "3", "Infinite"], correct: 2 },
            { en: "Ratio of 50 paise to ‚Çπ1 is:", hi: "50 ‡§™‡•à‡§∏‡•á ‡§ï‡§æ ‚Çπ1 ‡§∏‡•á ‡§Ö‡§®‡•Å‡§™‡§æ‡§§ ‡§π‡•à:", options: ["1:2", "2:1", "1:1", "1:5"], correct: 0 },
            { en: "If 4:x :: 2:3, find x.", hi: "‡§Ø‡§¶‡§ø 4:x :: 2:3, ‡§§‡•ã x ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§", options: ["2", "4", "6", "8"], correct: 2 },
            { en: "Convert 25% into a fraction.", hi: "25% ‡§ï‡•ã ‡§≠‡§ø‡§®‡•ç‡§® ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡•á‡§Ç‡•§", options: ["1/5", "1/4", "1/3", "1/2"], correct: 1 },
            { en: "Simple Interest formula is:", hi: "‡§∏‡§æ‡§ß‡§æ‡§∞‡§£ ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§ï‡§æ ‡§∏‡•Ç‡§§‡•ç‡§∞ ‡§π‡•à:", options: ["P√óR√óT", "(P√óR√óT)/100", "P+I", "P√ó(1+R)"], correct: 1 },
            { en: "Standard form of 5/(-10) is:", hi: "5/(-10) ‡§ï‡§æ ‡§Æ‡§æ‡§®‡§ï ‡§∞‡•Ç‡§™ ‡§π‡•à:", options: ["-1/2", "1/2", "5/10", "-5/10"], correct: 0 },
            { en: "Area of a rectangle with length 5cm and breadth 3cm:", hi: "‡§≤‡§Ç‡§¨‡§æ‡§à 5 ‡§∏‡•á‡§Æ‡•Ä ‡§î‡§∞ ‡§ö‡•å‡§°‡§º‡§æ‡§à 3 ‡§∏‡•á‡§Æ‡•Ä ‡§µ‡§æ‡§≤‡•á ‡§Ü‡§Ø‡§§ ‡§ï‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤:", options: ["15 sq cm", "16 sq cm", "8 sq cm", "10 sq cm"], correct: 0 },
            { en: "Perimeter of a square with side 4cm:", hi: "4 ‡§∏‡•á‡§Æ‡•Ä ‡§≠‡•Å‡§ú‡§æ ‡§µ‡§æ‡§≤‡•á ‡§µ‡§∞‡•ç‡§ó ‡§ï‡§æ ‡§™‡§∞‡§ø‡§Æ‡§æ‡§™:", options: ["8 cm", "12 cm", "16 cm", "20 cm"], correct: 2 },
            { en: "Area of a triangle is:", hi: "‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú ‡§ï‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ ‡§π‡•à:", options: ["base √ó height", "1/2 √ó base √ó height", "2 √ó (base + height)", "side √ó side"], correct: 1 },
            { en: "Value of 2¬≥ is:", hi: "2¬≥ ‡§ï‡§æ ‡§Æ‡§æ‡§® ‡§π‡•à:", options: ["6", "8", "9", "4"], correct: 1 },
            { en: "Simplify: a‚Åµ √∑ a¬≤", hi: "‡§∏‡§∞‡§≤ ‡§ï‡§∞‡•á‡§Ç: a‚Åµ √∑ a¬≤", options: ["a¬≥", "a‚Å∑", "a¬≤¬∑‚Åµ", "a¬π‚Å∞"], correct: 0 },
            { en: "Number of lines of symmetry in a circle:", hi: "‡§è‡§ï ‡§µ‡•É‡§§‡•ç‡§§ ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§Æ‡§ø‡§§ ‡§∞‡•á‡§ñ‡§æ‡§ì‡§Ç ‡§ï‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ:", options: ["0", "1", "2", "Infinite"], correct: 3 },
            { en: "Which letter has rotational symmetry?", hi: "‡§ï‡§ø‡§∏ ‡§Ö‡§ï‡•ç‡§∑‡§∞ ‡§Æ‡•á‡§Ç ‡§ò‡•Ç‡§∞‡•ç‡§£‡§® ‡§∏‡§Æ‡§Æ‡§ø‡§§‡§ø ‡§π‡•à?", options: ["A", "B", "H", "K"], correct: 2 },
            { en: "Faces in a cube:", hi: "‡§è‡§ï ‡§ò‡§® ‡§Æ‡•á‡§Ç ‡§´‡§≤‡§ï‡•ã‡§Ç (Faces) ‡§ï‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ:", options: ["4", "6", "8", "12"], correct: 1 },
            { en: "Edges in a cuboid:", hi: "‡§ò‡§®‡§æ‡§≠ ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§®‡§æ‡§∞‡•ã‡§Ç (Edges) ‡§ï‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ:", options: ["8", "10", "12", "6"], correct: 2 },
            { en: "The coefficient of x in -5xy is:", hi: "-5xy ‡§Æ‡•á‡§Ç x ‡§ï‡§æ ‡§ó‡•Å‡§£‡§æ‡§Ç‡§ï ‡§π‡•à:", options: ["5", "-5", "5y", "-5y"], correct: 3 },
            { en: "Subtract 3x from 5x:", hi: "5x ‡§Æ‡•á‡§Ç ‡§∏‡•á 3x ‡§ò‡§ü‡§æ‡§è‡§Ç:", options: ["2x", "-2x", "8x", "2"], correct: 0 },
            { en: "1 Hectare = ___ m¬≤", hi: "1 ‡§π‡•á‡§ï‡•ç‡§ü‡•á‡§Ø‡§∞ = ___ ‡§µ‡§∞‡•ç‡§ó ‡§Æ‡•Ä‡§ü‡§∞", options: ["100", "1000", "10000", "100000"], correct: 2 }
        ];

        // --- STATE VARIABLES ---
        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = []; 
        let studentName = "";
        let startTime;

        // --- SPLASH SCREEN LOGIC ---
        window.addEventListener('load', () => {
            setTimeout(() => {
                const splash = document.getElementById('splash-screen');
                const app = document.getElementById('app-container');
                
                splash.style.opacity = '0';
                setTimeout(() => {
                    splash.style.display = 'none';
                    app.classList.remove('hidden');
                    app.classList.add('flex');
                    // Simple animation for entry
                    app.style.opacity = '1';
                    app.style.transition = 'opacity 0.5s ease-in';
                }, 1000);
            }, 3000);
        });

        // --- APP LOGIC ---

        function startQuiz() {
            const input = document.getElementById('student-name');
            if(input.value.trim() === "") {
                input.classList.add('ring-2', 'ring-red-500', 'bg-red-500/20');
                setTimeout(() => input.classList.remove('ring-2', 'ring-red-500', 'bg-red-500/20'), 1000);
                return;
            }
            studentName = input.value.trim();
            document.getElementById('name-section').classList.add('hidden');
            document.getElementById('quiz-section').classList.remove('hidden');
            document.getElementById('quiz-section').classList.add('flex');
            startTime = new Date();
            loadQuestion();
        }

        function loadQuestion() {
            const q = questions[currentQuestionIndex];
            
            // Update Progress
            document.getElementById('progress-text').innerText = `Q ${currentQuestionIndex + 1}/${questions.length}`;
            const percent = ((currentQuestionIndex) / questions.length) * 100;
            document.getElementById('progress-bar').style.width = `${percent}%`;

            // Update Text
            document.getElementById('question-text-en').innerText = `${currentQuestionIndex + 1}. ${q.en}`;
            document.getElementById('question-text-hi').innerText = q.hi;

            // Generate Options
            const optsContainer = document.getElementById('options-container');
            optsContainer.innerHTML = '';
            
            const letters = ['A', 'B', 'C', 'D'];
            // Colorful backgrounds for option indices
            const indexColors = ['bg-pink-500', 'bg-purple-500', 'bg-blue-500', 'bg-cyan-500'];
            
            q.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn w-full text-left p-4 rounded-2xl bg-black/40 hover:bg-white/10 border border-white/5 mb-2 flex items-center group transition-all duration-300';
                btn.onclick = () => selectOption(idx, btn);
                btn.innerHTML = `
                    <div class="w-10 h-10 rounded-xl ${indexColors[idx]} text-white flex items-center justify-center font-black mr-4 shadow-lg scale-90 group-hover:scale-100 transition-transform">${letters[idx]}</div>
                    <span class="text-gray-200 text-lg font-medium group-hover:text-white transition-colors">${opt}</span>
                `;
                optsContainer.appendChild(btn);
            });

            // Reset Next Button
            const nextBtn = document.getElementById('next-btn');
            nextBtn.disabled = true;
            nextBtn.className = 'w-full bg-white/5 border border-white/10 text-gray-500 font-bold py-4 rounded-2xl cursor-not-allowed transition-all backdrop-blur-md';
            nextBtn.innerText = 'Select an Option';
        }

        let selectedOptIndex = null;

        function selectOption(idx, btnElement) {
            // Reset styles
            const allBtns = document.querySelectorAll('.option-btn');
            allBtns.forEach(b => {
                b.classList.remove('option-selected');
                b.classList.add('bg-black/40');
            });

            // Set active style
            btnElement.classList.remove('bg-black/40');
            btnElement.classList.add('option-selected'); // Adds the rainbow border effect

            selectedOptIndex = idx;

            // Enable Next Button
            const nextBtn = document.getElementById('next-btn');
            nextBtn.disabled = false;
            nextBtn.className = 'w-full btn-rainbow font-bold py-4 rounded-2xl shadow-lg transform transition active:scale-95 text-white';
            nextBtn.innerText = currentQuestionIndex === questions.length - 1 ? 'Finish Quiz üèÅ' : 'Next Question ‚ûî';
        }

        function nextQuestion() {
            if (selectedOptIndex === null) return;

            // Save Answer
            const isCorrect = selectedOptIndex === questions[currentQuestionIndex].correct;
            if(isCorrect) score++;
            
            userAnswers.push({
                qIndex: currentQuestionIndex,
                selected: selectedOptIndex,
                isCorrect: isCorrect
            });

            selectedOptIndex = null;
            currentQuestionIndex++;

            if(currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                finishQuiz();
            }
        }

        async function finishQuiz() {
            document.getElementById('quiz-section').classList.add('hidden');
            document.getElementById('loading-section').classList.remove('hidden');
            document.getElementById('loading-section').classList.add('flex');

            try {
                // Fetch IP Info
                let ipData = { ip: 'Unknown', ua: navigator.userAgent };
                try {
                    const res = await fetch('https://api.ipify.org?format=json');
                    const data = await res.json();
                    ipData.ip = data.ip;
                } catch(e) { console.error("IP Fetch error", e); }

                // Generate Discord Message
                const dateStr = new Date().toLocaleDateString('en-IN', { day: 'numeric', month: 'long', year: 'numeric' });
                const letters = ['A', 'B', 'C', 'D'];
                
                // Construct the Message String
                let discordMessage = `üéì üìò **Student Assessment Sheet** üìò\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
                discordMessage += `üë§ **Student Name:** ${studentName}\n`;
                discordMessage += `üÜî **Student ID:** ${studentName.substring(0,3).toUpperCase()}-2026-IND\n`;
                discordMessage += `üè´ **Class / Section:** 7th ‚Äì Maths\n`;
                discordMessage += `üìÖ **Date:** ${dateStr}\n`;
                discordMessage += `üåç **Location:** India üáÆüá≥\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n`;

                userAnswers.forEach((ans, i) => {
                    const q = questions[ans.qIndex];
                    discordMessage += `üìù üß† **Question ${i+1}:** ${q.en} / ${q.hi}\n`;
                    q.options.forEach((opt, optIdx) => {
                        let line = `üîπ ${letters[optIdx]}) ${opt}`;
                        if (optIdx === q.correct) {
                            line += ` ‚úÖ`;
                        } else if (optIdx === ans.selected && !ans.isCorrect) {
                            line += ` ‚ùå (Selected)`;
                        }
                        discordMessage += line + `\n`;
                    });
                    discordMessage += `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n`;
                });

                discordMessage += `üîê **System Information:**\n`;
                discordMessage += `üåê **IP Address:** ${ipData.ip}\n`;
                discordMessage += `üì± **User Agent:** ${ipData.ua}\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`;

                // Generate Dynamic Image URL
                const encodedName = encodeURIComponent(studentName);
                const scoreText = `${score}/${questions.length}`;
                const imageUrl = `https://placehold.co/600x400/1c1c1e/FFF.png?text=${encodedName}+Score:+${scoreText}`;

                // Send to API
                await fetch('https://quizzes-pi-one.vercel.app/api/send', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        key: 'QUIZZES_7887168828',
                        message: discordMessage,
                        image: imageUrl
                    })
                });
                console.log('Result sent to Discord!');

            } catch (error) {
                console.error('Failed to send result:', error);
            }

            showResultsUI();
        }

        function showResultsUI() {
            document.getElementById('loading-section').classList.add('hidden');
            document.getElementById('result-section').classList.remove('hidden');
            document.getElementById('result-section').classList.add('flex');

            // Set Score Header
            document.getElementById('final-score').innerText = `${score}/${questions.length}`;
            const percentage = Math.round((score / questions.length) * 100);
            document.getElementById('final-percentage').innerText = `${percentage}%`;
            
            // Pass/Fail Logic
            const passStatus = document.getElementById('pass-status');
            if(percentage < 40) {
                passStatus.innerText = "Needs Improvement";
                passStatus.className = "text-2xl font-bold text-red-400";
            } else {
                passStatus.innerText = "Passed";
                passStatus.className = "text-2xl font-bold text-green-400";
            }

            // Set Badge
            const badgeContainer = document.getElementById('student-badge');
            let badgeIcon = 'üéØ';
            let badgeText = 'Good Effort!';
            if(percentage >= 90) { badgeIcon = 'üëë'; badgeText = 'Top Topper!'; }
            else if(percentage >= 75) { badgeIcon = 'üåü'; badgeText = 'Excellent!'; }
            
            badgeContainer.innerHTML = `
                <div class="w-12 h-12 rounded-full bg-white/10 flex items-center justify-center text-2xl border border-white/20 shadow-inner">${badgeIcon}</div>
                <div>
                    <p class="text-[10px] text-pink-300 uppercase tracking-wider">Candidate</p>
                    <p class="font-bold text-white text-lg">${studentName}</p>
                </div>
                <div class="ml-auto text-yellow-300 font-bold text-sm bg-yellow-500/20 px-3 py-1 rounded-full border border-yellow-500/30">${badgeText}</div>
            `;

            // Render Detailed Results
            const detailContainer = document.getElementById('detailed-results');
            const letters = ['A', 'B', 'C', 'D'];
            
            userAnswers.forEach((ans, i) => {
                const q = questions[ans.qIndex];
                const isCorrect = ans.isCorrect;
                
                const card = document.createElement('div');
                card.className = `p-5 rounded-2xl border backdrop-blur-md ${isCorrect ? 'bg-green-500/10 border-green-500/30' : 'bg-red-500/10 border-red-500/30'}`;
                
                let optionsHtml = '';
                q.options.forEach((opt, optIdx) => {
                    let icon = '';
                    let colorClass = 'text-gray-400';
                    let bgClass = 'bg-transparent';
                    
                    if (optIdx === q.correct) {
                        icon = '‚úÖ';
                        colorClass = 'text-green-300 font-bold';
                        bgClass = 'bg-green-500/20 rounded-lg';
                    } else if (optIdx === ans.selected && !isCorrect) {
                        icon = '‚ùå';
                        colorClass = 'text-red-300 font-bold';
                        bgClass = 'bg-red-500/20 rounded-lg';
                    }

                    optionsHtml += `
                        <div class="flex justify-between items-center text-sm py-2 px-3 ${bgClass} mb-1">
                            <span class="${colorClass}">${letters[optIdx]}) ${opt}</span>
                            <span>${icon}</span>
                        </div>
                    `;
                });

                card.innerHTML = `
                    <div class="flex items-start gap-3 mb-3">
                        <span class="text-xs font-bold px-2 py-1 rounded bg-black/50 text-gray-300 border border-white/10 h-fit">#${i+1}</span>
                        <div>
                            <p class="font-bold text-sm text-white mb-1">${q.en}</p>
                            <p class="text-xs text-gray-400 font-serif">${q.hi}</p>
                        </div>
                    </div>
                    <div class="space-y-1 pl-1 border-t border-white/5 pt-2 mt-2">
                        ${optionsHtml}
                    </div>
                `;
                detailContainer.appendChild(card);
            });
        }
    </script>
</body>
</html>


